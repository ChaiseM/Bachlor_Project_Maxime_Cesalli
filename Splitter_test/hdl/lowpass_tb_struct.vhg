--
-- VHDL Architecture Splitter_test.lowpass_tb.struct
--
-- Created:
--          by - maxime.cesalli.UNKNOWN (WE2330804)
--          at - 16:56:52 25.05.2023
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2019.2 (Build 5)
--
LIBRARY ieee;
  USE ieee.std_logic_1164.all;
  USE ieee.numeric_std.all;

LIBRARY Splitter;
LIBRARY Splitter_test;

ARCHITECTURE struct OF lowpass_tb IS

    -- Architecture declarations
    constant CLOCK_FREQUENCY: real := 66.0E6;
    constant SAMPLING_FREQUENCY: real := 4.8E6;
    constant DATA_WIDTH : positive := 32;
    constant COEFF_BIT_NB : positive := 16;
    constant FILTER_TAP_NB : positive := 59;

    -- Internal signal declarations
    SIGNAL audioIn  : signed(DATA_WIDTH-1 DOWNTO 0);
    SIGNAL audioOut : signed(DATA_WIDTH-1 DOWNTO 0);
    SIGNAL clock    : std_ulogic;
    SIGNAL en       : std_ulogic;
    SIGNAL reset    : std_ulogic;


    -- Component Declarations
    COMPONENT Lowpass
    GENERIC (
        DATA_WIDTH    : positive;
        COEFF_BIT_NB  : positive;
        FILTER_TAP_NB : positive
    );
    PORT (
        clock    : IN     STD_LOGIC ;
        reset    : IN     STD_LOGIC ;
        audioIn  : IN     signed (DATA_WIDTH-1 DOWNTO 0);
        audioOut : OUT    signed (DATA_WIDTH-1 DOWNTO 0);
        en       : IN     std_ulogic 
    );
    END COMPONENT;
    COMPONENT lowpass_tester
    GENERIC (
        CLOCK_FREQUENCY    : real;
        SAMPLING_FREQUENCY : real;
        DATA_WIDTH         : positive
    );
    PORT (
        audioOut : IN     signed (DATA_WIDTH-1 DOWNTO 0);
        audioIn  : OUT    signed (DATA_WIDTH-1 DOWNTO 0);
        clock    : OUT    std_ulogic ;
        en       : OUT    std_ulogic ;
        reset    : OUT    std_ulogic 
    );
    END COMPONENT;

    -- Optional embedded configurations
    -- pragma synthesis_off
    FOR ALL : Lowpass USE ENTITY Splitter.Lowpass;
    FOR ALL : lowpass_tester USE ENTITY Splitter_test.lowpass_tester;
    -- pragma synthesis_on


BEGIN

    -- Instance port mappings.
    I_DUT : Lowpass
        GENERIC MAP (
            DATA_WIDTH    => DATA_WIDTH,
            COEFF_BIT_NB  => COEFF_BIT_NB,
            FILTER_TAP_NB => FILTER_TAP_NB
        )
        PORT MAP (
            clock    => clock,
            reset    => reset,
            audioIn  => audioIn,
            audioOut => audioOut,
            en       => en
        );
    I_tester : lowpass_tester
        GENERIC MAP (
            CLOCK_FREQUENCY    => CLOCK_FREQUENCY,
            SAMPLING_FREQUENCY => SAMPLING_FREQUENCY,
            DATA_WIDTH         => DATA_WIDTH
        )
        PORT MAP (
            audioOut => audioOut,
            audioIn  => audioIn,
            clock    => clock,
            en       => en,
            reset    => reset
        );

END struct;
